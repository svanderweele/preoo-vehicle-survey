[{"/Users/simon/dev/preoo-vehicle-survey/client-react/src/index.tsx":"1","/Users/simon/dev/preoo-vehicle-survey/client-react/src/reportWebVitals.ts":"2","/Users/simon/dev/preoo-vehicle-survey/client-react/src/App.tsx":"3","/Users/simon/dev/preoo-vehicle-survey/client-react/src/SurveyForm.tsx":"4","/Users/simon/dev/preoo-vehicle-survey/client-react/src/Questions.ts":"5"},{"size":478,"mtime":1608538563616,"results":"6","hashOfConfig":"7"},{"size":370,"mtime":1608538563615,"results":"8","hashOfConfig":"7"},{"size":203,"mtime":1608538563616,"results":"9","hashOfConfig":"7"},{"size":8895,"mtime":1608550008559,"results":"10","hashOfConfig":"7"},{"size":5368,"mtime":1608550008559,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"gzpqcw",{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"14"},"/Users/simon/dev/preoo-vehicle-survey/client-react/src/index.tsx",[],["24","25"],"/Users/simon/dev/preoo-vehicle-survey/client-react/src/reportWebVitals.ts",[],"/Users/simon/dev/preoo-vehicle-survey/client-react/src/App.tsx",[],"/Users/simon/dev/preoo-vehicle-survey/client-react/src/SurveyForm.tsx",["26"],"/Users/simon/dev/preoo-vehicle-survey/client-react/src/Questions.ts",["27"],"type QuestionKey =\n  | \"age\"\n  | \"gender\"\n  | \"doesOwnDrivingLicense\"\n  | \"isFirstCar\"\n  | \"driveTrainPreference\"\n  | \"isWorriedAboutFuelEmission\"\n  | \"carCountInFamily\"\n  | \"carData\";\n\nexport interface RequestSaveSurvey {\n  surveyId: string;\n  data: {\n    age?: string;\n    gender?: string;\n    doesOwnDrivingLicense?: string;\n    isFirstCar?: string;\n    driveTrainPreference?: string;\n    isWorriedAboutFuelEmission?: string;\n    carCountInFamily?: string;\n    carData?: { make: string; model: string }[];\n  };\n}\n\nexport class RequestSaveSurvey {\n  constructor(surveyId: \"survey_vehicle_01\", questions: Question[]) {\n    this.surveyId = surveyId;\n    this.data = {\n      age: getAnswer(questions, \"age\"),\n      gender: getAnswer(questions, \"gender\"),\n      doesOwnDrivingLicense: getAnswer(questions, \"doesOwnDrivingLicense\"),\n      isFirstCar: getAnswer(questions, \"isFirstCar\"),\n      driveTrainPreference: getAnswer(questions, \"driveTrainPreference\"),\n      isWorriedAboutFuelEmission: getAnswer(\n        questions,\n        \"isWorriedAboutFuelEmission\"\n      ),\n      carCountInFamily: getAnswer(questions, \"carCountInFamily\"),\n    };\n  }\n}\n\nfunction getAnswer(\n  questions: Question[],\n  key: QuestionKey\n): string | undefined {\n  const matching = questions.filter((question) => question.key === key);\n\n  if (matching.length === 0) {\n    return undefined;\n  }\n\n  return matching[0].answer;\n}\n\nexport function shouldOptOut({\n  lastQuestionAnswered,\n  questions,\n}: {\n  lastQuestionAnswered: Question;\n  questions: Question[];\n}): string | null {\n  if (lastQuestionAnswered.key === \"gender\") {\n    const age = getAnswer(questions, \"age\");\n    if (age && parseInt(age) < 18) {\n      return \"Thank you for taking the time to submit the survey.\";\n    }\n  }\n\n  if (lastQuestionAnswered.key === \"doesOwnDrivingLicense\") {\n    const doesOwnDrivingLicense = getAnswer(questions, \"doesOwnDrivingLicense\");\n    if (doesOwnDrivingLicense && doesOwnDrivingLicense !== \"Yes\") {\n      return \"Thank you for taking the time to submit the survey.\";\n    }\n  }\n\n  if (lastQuestionAnswered.key === \"isFirstCar\") {\n    const isFirstCar = getAnswer(questions, \"isFirstCar\");\n    if (isFirstCar && isFirstCar === \"Yes\") {\n      return \"We are targeting more experienced clients, thank you for your interest!\";\n    }\n  }\n\n  return null;\n}\n\nexport class Question {\n  title: string;\n  key: QuestionKey;\n  type: \"input\" | \"choice\" | \"car_select\";\n  answer: string | undefined;\n  canShow?: (questions: Question[]) => boolean;\n\n  constructor(\n    key: QuestionKey,\n    title: string,\n    type: \"input\" | \"choice\" | \"car_select\",\n    canShow?: (questions: Question[]) => boolean\n  ) {\n    this.title = title;\n    this.type = type;\n    this.answer = undefined;\n    this.key = key;\n    this.canShow = canShow;\n  }\n}\n\nexport class InputQuestion extends Question {\n  validate: (value: string) => boolean;\n  regex: RegExp;\n  validationMessage: string;\n\n  constructor(\n    key: QuestionKey,\n    title: string,\n    validate: (value: string) => boolean,\n    regex: RegExp,\n    validationMessage: string,\n    canShow?: (questions: Question[]) => boolean\n  ) {\n    super(key, title, \"input\", canShow);\n    this.validate = validate;\n    this.regex = regex;\n    this.validationMessage = validationMessage;\n  }\n}\n\nexport class ChoiceQuestion extends Question {\n  choices: string[];\n\n  constructor(\n    key: QuestionKey,\n    title: string,\n    choices: string[],\n    canShow?: (questions: Question[]) => boolean\n  ) {\n    super(key, title, \"choice\", canShow);\n    this.choices = choices;\n  }\n}\n\nconst questions: Question[] = [\n  new InputQuestion(\n    \"age\",\n    \"What is your age?\",\n    (value) => value !== \"\" && parseInt(value) > 0,\n    /^(|[0-9])+$/,\n    \"Age must be greater than 0\"\n  ),\n  new ChoiceQuestion(\"gender\", \"What is your gender?\", [\n    \"Male\",\n    \"Female\",\n    \"Other\",\n  ]),\n\n  new ChoiceQuestion(\n    \"doesOwnDrivingLicense\",\n    \"Do you own a car driving licence?\",\n    [\"Yes\", \"No, I prefer to use other transport\"]\n  ),\n\n  new ChoiceQuestion(\n    \"isFirstCar\",\n    \"Is this your first car?\",\n    [\"Yes\", \"No\"],\n    (questions) => {\n      const age = getAnswer(questions, \"age\");\n      if (age) {\n        const parsedAge = parseInt(age);\n        return parsedAge >= 18 && parsedAge <= 25;\n      }\n\n      return true;\n    }\n  ),\n  new ChoiceQuestion(\n    \"driveTrainPreference\",\n    \"Which drivetrain do you prefer?\",\n    [\"FWD\", \"RWD\", \"I don't know\"]\n  ),\n  new ChoiceQuestion(\n    \"isWorriedAboutFuelEmission\",\n    \"Are you worried about fuel emissions?\",\n    [\"Yes\", \"No\"]\n  ),\n  new InputQuestion(\n    \"carCountInFamily\",\n    \"How many cars do you have in your family?\",\n    (value) => true,\n    /^(|[0-9])+$/,\n    \"\"\n  ),\n];\n\nexport default questions;\n",{"ruleId":"28","replacedBy":"29"},{"ruleId":"30","replacedBy":"31"},{"ruleId":"32","severity":1,"message":"33","line":202,"column":48,"nodeType":"34","endLine":202,"endColumn":55,"suggestions":"35"},{"ruleId":"36","severity":1,"message":"37","line":1,"column":10,"nodeType":"38","messageId":"39","endLine":1,"endColumn":15},"no-native-reassign",["40"],"no-negated-in-lhs",["41"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'validate'. Either include it or remove the dependency array. If 'validate' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["42"],"@typescript-eslint/no-unused-vars","'group' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation",{"desc":"43","fix":"44"},"Update the dependencies array to be: [validate, value]",{"range":"45","text":"46"},[5716,5723],"[validate, value]"]